[flake8]
max-line-length = 120
exclude= env, venv, node_modules, build
ignore = E203, E266, E501, W503,
per-file-ignores =
    newsroom/commands/__init__.py: F401

[mypy]
python_version = 3.10
allow_untyped_globals = True
ignore_missing_imports = True
exclude = (env|e2e|node_modules|scripts|docker|dist|assets|docs)

[mypy-newsroom.core]
allow_untyped_globals = False

[tool:pytest]
testpaths=tests
confcutdir=tests
addopts=--tb=short
asyncio_mode=auto
asyncio_default_fixture_loop_scope=function

[extract_messages]
input_dirs = newsroom,assets
output_file = messages.pot
mapping_file = mapping.cfg
keywords = _ lazy_gettext ngettext

[init_catalog]
input_file = messages.pot
output_dir = newsroom/translations

[update_catalog]
output_dir = newsroom/translations

[compile_catalog]
directory = newsroom/translations
use_fuzzy = true
